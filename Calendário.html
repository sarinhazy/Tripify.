<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tripify - Gestão de Excursões</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .calendar-icon::-webkit-calendar-picker-indicator {
            cursor: pointer;
            opacity: 0.7;
            filter: invert(0.5);
        }
        
        .calendar-icon::-webkit-calendar-picker-indicator:hover {
            opacity: 1;
        }
        
        .excursion-card {
            transition: all 0.3s ease;
            border-left: 4px solid #3B82F6;
        }
        
        .excursion-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.1);
        }
        
        .language-btn {
            transition: all 0.2s ease;
        }
        
        .language-btn.active {
            background-color: #3B82F6;
            color: white;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-route text-white text-xl"></i>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800">Tripify</h1>
                </div>
                
                <div class="flex space-x-2">
                    <button id="lang-pt" class="language-btn active px-3 py-1 rounded-md bg-blue-100 text-blue-800 text-sm font-medium">
                        PT
                    </button>
                    <button id="lang-en" class="language-btn px-3 py-1 rounded-md bg-gray-100 text-gray-600 text-sm font-medium">
                        EN
                    </button>
                    <button id="lang-es" class="language-btn px-3 py-1 rounded-md bg-gray-100 text-gray-600 text-sm font-medium">
                        ES
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Form Section -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-6" data-i18n="create_excursion">Criar Nova Excursão</h2>
                
                <form id="excursion-form" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="excursion_name">Nome da Excursão</label>
                        <input 
                            type="text" 
                            id="excursion-name" 
                            required
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                            placeholder="Ex: Tour pelas Montanhas"
                        >
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="excursion_date">Data da Excursão</label>
                        <div class="relative">
                            <input 
                                type="date" 
                                id="excursion-date" 
                                required
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition calendar-icon"
                            >
                            <i class="fas fa-calendar-alt absolute right-3 top-3 text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1" data-i18n="excursion_description">Descrição</label>
                        <textarea 
                            id="excursion-description" 
                            rows="4"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                            placeholder="Descreva os detalhes da excursão..."
                        ></textarea>
                    </div>
                    
                    <button 
                        type="submit"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition transform hover:scale-105"
                        data-i18n="create_button"
                    >
                        Criar Excursão
                    </button>
                </form>
            </div>

            <!-- List Section -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-semibold text-gray-800" data-i18n="excursions_list">Lista de Excursões</h2>
                    <span id="excursion-count" class="bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full">0</span>
                </div>
                
                <div id="excursions-list" class="space-y-4">
                    <div class="text-center py-12 text-gray-500">
                        <i class="fas fa-route text-4xl mb-3 opacity-50"></i>
                        <p data-i18n="no_excursions">Nenhuma excursão criada ainda.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t mt-12 py-6">
        <div class="container mx-auto px-4 text-center text-gray-600">
            <p data-i18n="footer_text">© 2024 Tripify - Sistema de Gestão de Excursões</p>
        </div>
    </footer>

    <script>
        // Dados das excursões
        let excursions = JSON.parse(localStorage.getItem('tripify_excursions')) || [];
        
        // Sistema de idiomas
        const translations = {
            'pt': {
                'create_excursion': 'Criar Nova Excursão',
                'excursion_name': 'Nome da Excursão',
                'excursion_date': 'Data da Excursão',
                'excursion_description': 'Descrição',
                'create_button': 'Criar Excursão',
                'excursions_list': 'Lista de Excursões',
                'no_excursions': 'Nenhuma excursão criada ainda.',
                'delete': 'Excluir',
                'excursions_count': 'excursões',
                'footer_text': '© 2024 Tripify - Sistema de Gestão de Excursões',
                'date_format': 'pt-BR'
            },
            'en': {
                'create_excursion': 'Create New Excursion',
                'excursion_name': 'Excursion Name',
                'excursion_date': 'Excursion Date',
                'excursion_description': 'Description',
                'create_button': 'Create Excursion',
                'excursions_list': 'Excursions List',
                'no_excursions': 'No excursions created yet.',
                'delete': 'Delete',
                'excursions_count': 'excursions',
                'footer_text': '© 2024 Tripify - Excursion Management System',
                'date_format': 'en-US'
            },
            'es': {
                'create_excursion': 'Crear Nueva Excursión',
                'excursion_name': 'Nombre de la Excursión',
                'excursion_date': 'Fecha de la Excursión',
                'excursion_description': 'Descripción',
                'create_button': 'Crear Excursión',
                'excursions_list': 'Lista de Excursiones',
                'no_excursions': 'No hay excursiones creadas todavía.',
                'delete': 'Eliminar',
                'excursions_count': 'excursiones',
                'footer_text': '© 2024 Tripify - Sistema de Gestión de Excursiones',
                'date_format': 'es-ES'
            }
        };

        let currentLanguage = 'pt';

        // Função para traduzir a interface
        function translateInterface(lang) {
            currentLanguage = lang;
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // Atualizar a lista de excursões com o novo idioma
            renderExcursions();
        }

        // Função para formatar data conforme o idioma
        function formatDate(dateString, lang) {
            const date = new Date(dateString);
            return date.toLocaleDateString(translations[lang].date_format, {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // Função para renderizar a lista de excursões
        function renderExcursions() {
            const listElement = document.getElementById('excursions-list');
            const countElement = document.getElementById('excursion-count');
            
            countElement.textContent = `${excursions.length} ${translations[currentLanguage].excursions_count}`;
            
            if (excursions.length === 0) {
                listElement.innerHTML = `
                    <div class="text-center py-12 text-gray-500">
                        <i class="fas fa-route text-4xl mb-3 opacity-50"></i>
                        <p data-i18n="no_excursions">${translations[currentLanguage].no_excursions}</p>
                    </div>
                `;
                return;
            }
            
            listElement.innerHTML = excursions.map((excursion, index) => `
                <div class="excursion-card bg-white border border-gray-200 rounded-lg p-4 fade-in">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-gray-800 text-lg">${excursion.name}</h3>
                        <button onclick="deleteExcursion(${index})" class="text-red-500 hover:text-red-700 transition">
                            <i class="fas fa-trash"></i>
                            <span class="sr-only">${translations[currentLanguage].delete}</span>
                        </button>
                    </div>
                    <div class="flex items-center text-sm text-gray-600 mb-2">
                        <i class="fas fa-calendar-day mr-2"></i>
                        <span>${formatDate(excursion.date, currentLanguage)}</span>
                    </div>
                    ${excursion.description ? `
                        <p class="text-gray-700 text-sm">${excursion.description}</p>
                    ` : ''}
                </div>
            `).join('');
        }

        // Função para adicionar uma nova excursão
        function addExcursion(event) {
            event.preventDefault();
            
            const name = document.getElementById('excursion-name').value;
            const date = document.getElementById('excursion-date').value;
            const description = document.getElementById('excursion-description').value;
            
            if (!name || !date) {
                alert('Por favor, preencha pelo menos o nome e a data da excursão.');
                return;
            }
            
            const newExcursion = {
                id: Date.now(),
                name,
                date,
                description,
                createdAt: new Date().toISOString()
            };
            
            excursions.unshift(newExcursion);
            localStorage.setItem('tripify_excursions', JSON.stringify(excursions));
            
            // Limpar o formulário
            document.getElementById('excursion-form').reset();
            
            // Renderizar a lista atualizada
            renderExcursions();
            
            // Efeito visual de confirmação
            const submitBtn = event.target.querySelector('button[type="submit"]');
            submitBtn.classList.add('bg-green-600');
            setTimeout(() => {
                submitBtn.classList.remove('bg-green-600');
            }, 1000);
        }

        // Função para excluir uma excursão
        function deleteExcursion(index) {
            if (confirm('Tem certeza que deseja excluir esta excursão?')) {
                excursions.splice(index, 1);
                localStorage.setItem('tripify_excursions', JSON.stringify(excursions));
                renderExcursions();
            }
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Carregar excursões salvas
            renderExcursions();
            
            // Configurar o formulário
            document.getElementById('excursion-form').addEventListener('submit', addExcursion);
            
            // Configurar botões de idioma
            document.getElementById('lang-pt').addEventListener('click', () => {
                setActiveLanguage('pt');
                translateInterface('pt');
            });
            
            document.getElementById('lang-en').addEventListener('click', () => {
                setActiveLanguage('en');
                translateInterface('en');
            });
            
            document.getElementById('lang-es').addEventListener('click', () => {
                setActiveLanguage('es');
                translateInterface('es');
            });
            
            // Configurar data mínima para o calendário (hoje)
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('excursion-date').min = today;
        });

        // Função para definir o idioma ativo
        function setActiveLanguage(lang) {
            document.querySelectorAll('.language-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-100', 'text-blue-800');
                btn.classList.add('bg-gray-100', 'text-gray-600');
            });
            
            const activeBtn = document.getElementById(`lang-${lang}`);
            activeBtn.classList.remove('bg-gray-100', 'text-gray-600');
            activeBtn.classList.add('active', 'bg-blue-100', 'text-blue-800');
        }
    </script>
</body>
</html>
